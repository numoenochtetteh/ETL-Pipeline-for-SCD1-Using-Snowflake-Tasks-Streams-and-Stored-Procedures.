v=# ğŸš€ ETL Pipeline for SCD1 Using Snowflake Tasks, Streams & Stored Procedures

---

## ğŸ“– Project Overview

This project demonstrates how to build a **real-time ETL pipeline** that applies **Slowly Changing Dimension Type 1 (SCD1)** logic using:

- ğŸ§Š **Snowflake** â€” Cloud Data Warehouse  
- â˜ï¸ **AWS S3** â€” Raw Data Storage  
- ğŸ”„ **Snowpipe** â€” Automatic Data Ingestion  
- ğŸ“¥ **Streams & Tasks** â€” Change Detection & Scheduling  
- ğŸ“œ **Stored Procedures** â€” SCD1 Logic Implementation  

The goal is to ingest data from AWS S3 into Snowflake and transform it to maintain the latest version of records in a dimension table.

---

## âœ… Project Setup (All Completed)

### ğŸ”§ Configuration Steps

- âœ… **Snowflake Account Setup**  
- âœ… **AWS Account Setup**  
- âœ… **Anaconda Cloud Setup**  
- âœ… **AWS IAM User Configuration**  
- âœ… **AWS S3 Bucket Setup**  
- âœ… **AWS S3 â†” Snowflake Integration**  
- âœ… **Snowpipe Setup**  
- âœ… **Stream Setup**  
- âœ… **Task Setup**  
- âœ… **Testing of SCD1 Logic**

---

## ğŸ§­ How the Project Works â€“ Step-by-Step

### 1ï¸âƒ£ Step 1: Setup Snowflake and AWS  
Create accounts and configure IAM roles/policies to allow secure communication between AWS and Snowflake.

---

### 2ï¸âƒ£ Step 2: Upload Raw Data to S3  
Simulate incoming data by uploading `.csv` or `.json` files to your S3 bucket.

---

### 3ï¸âƒ£ Step 3: Create Snowflake Stage & File Format  
Create an external stage in Snowflake and define the file format to connect with your S3 bucket.

---

### 4ï¸âƒ£ Step 4: Build Snowpipe for Auto-Loading  
Use Snowpipe to automatically ingest data into a Snowflake **landing table**.

---

### 5ï¸âƒ£ Step 5: Create a Stream  
Create a stream on the landing table to track new or changed rows.

---

### 6ï¸âƒ£ Step 6: Write a Stored Procedure  
Write a stored procedure that applies **SCD1 logic**:  
- Compares records from stream with dimension table  
- Updates if key matches  
- Inserts if new record

---

### 7ï¸âƒ£ Step 7: Automate with Snowflake Task  
Schedule a task to run the stored procedure regularly (e.g., every 5 minutes) to ensure continuous updates.

---

### 8ï¸âƒ£ Step 8: Test the Full Pipeline  
Upload new files to S3 and validate:
- âœ… Snowpipe ingests to landing table  
- âœ… Stream detects new rows  
- âœ… Task runs stored procedure  
- âœ… Dimension table reflects SCD1 updates

---
